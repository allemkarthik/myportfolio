window.particlesJS = function (id, config) {
    var container = document.getElementById(id);
    var canvas = document.createElement("canvas");
    canvas.className = "particles-js-canvas-el";
    canvas.style.width = "100%";
    canvas.style.height = "100%";
    container.appendChild(canvas);

    var ctx = canvas.getContext("2d");
    canvas.width = container.offsetWidth;
    canvas.height = container.offsetHeight;

    var particles = [];

    // Create particles
    for (var i = 0; i < config.particles.number.value; i++) {
        var p = {
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * config.particles.move.speed,
            vy: (Math.random() - 0.5) * config.particles.move.speed,
            radius: config.particles.size.value,
            color: config.particles.color.value
        };
        particles.push(p);
    }

    function hexToRgb(hex) {
        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
        } : { r: 255, g: 255, b: 255 };
    }

    function drawParticle(p) {
        var c = hexToRgb(p.color);
        ctx.fillStyle = `rgba(${c.r},${c.g},${c.b},1)`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.closePath();
    }

    function drawLines() {
        for (var i = 0; i < particles.length; i++) {
            for (var j = i + 1; j < particles.length; j++) {
                var dx = particles[i].x - particles[j].x;
                var dy = particles[i].y - particles[j].y;
                var dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < config.particles.line_linked.distance) {
                    ctx.strokeStyle = `rgba(255,255,255,${config.particles.line_linked.opacity * (1 - dist / config.particles.line_linked.distance)})`;
                    ctx.lineWidth = config.particles.line_linked.width;
                    ctx.beginPath();
                    ctx.moveTo(particles[i].x, particles[i].y);
                    ctx.lineTo(particles[j].x, particles[j].y);
                    ctx.stroke();
                    ctx.closePath();
                }
            }
        }
    }

    function updateParticles() {
        for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            p.x += p.vx;
            p.y += p.vy;

            if (p.x < 0 || p.x > canvas.width) p.vx = -p.vx;
            if (p.y < 0 || p.y > canvas.height) p.vy = -p.vy;
        }
    }

    function animate() {
        // Black background
        ctx.fillStyle = "#000000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        updateParticles();
        for (var i = 0; i < particles.length; i++) drawParticle(particles[i]);
        if (config.particles.line_linked.enable) drawLines();

        requestAnimationFrame(animate);
    }

    animate();

    // Resize listener
    window.addEventListener("resize", function () {
        canvas.width = container.offsetWidth;
        canvas.height = container.offsetHeight;
    });
};

/* particles-app.js
   Dark / subtle particles tuned for a near-black professional gradient background.
   This uses the standard particlesJS(...) call.
*/

particlesJS('particles-js',
{
  "particles": {
    "number": {
      "value": 70,
      "density": { "enable": true, "value_area": 800 }
    },
    "color": { "value": "#bfbfbf" },        // light-gray particles
    "shape": {
      "type": "circle",
      "stroke": { "width": 0, "color": "#000000" }
    },
    "opacity": {
      "value": 0.6,
      "random": false,
      "anim": { "enable": false }
    },
    "size": {
      "value": 3.5,
      "random": true,
      "anim": { "enable": false }
    },
    "line_linked": {
      "enable": true,
      "distance": 140,
      "color": "#6b6b6b",   // subtle link color
      "opacity": 0.18,
      "width": 1
    },
    "move": {
      "enable": true,
      "speed": 1.8,
      "direction": "none",
      "random": false,
      "straight": false,
      "out_mode": "out",
      "bounce": false
    }
  },
  "interactivity": {
    "detect_on": "canvas",
    "events": {
      "onhover": { "enable": true, "mode": "repulse" },
      "onclick": { "enable": true, "mode": "push" },
      "resize": true
    },
    "modes": {
      "grab": { "distance": 200, "line_linked": { "opacity": 0.2 }},
      "bubble": { "distance": 200, "size": 6, "duration": 2, "opacity": 0.8 },
      "repulse": { "distance": 120 },
      "push": { "particles_nb": 3 },
      "remove": { "particles_nb": 2 }
    }
  },
  "retina_detect": true
});
// ===== PARTICLES JS =====
window.particlesJS = function (id, config) {
    var container = document.getElementById(id);
    var canvas = document.createElement("canvas");
    canvas.className = "particles-js-canvas-el";
    canvas.style.width = "100%";
    canvas.style.height = "100%";
    container.appendChild(canvas);

    var ctx = canvas.getContext("2d");
    canvas.width = container.offsetWidth;
    canvas.height = container.offsetHeight;

    var particles = [];

    // Create particles
    for (var i = 0; i < config.particles.number.value; i++) {
        var p = {
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * config.particles.move.speed,
            vy: (Math.random() - 0.5) * config.particles.move.speed,
            radius: config.particles.size.value,
            color: config.particles.color.value
        };
        particles.push(p);
    }

    function hexToRgb(hex) {
        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
        } : { r: 255, g: 255, b: 255 };
    }

    function drawParticle(p) {
        var c = hexToRgb(p.color);
        ctx.fillStyle = `rgba(${c.r},${c.g},${c.b},1)`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.closePath();
    }

    function drawLines() {
        for (var i = 0; i < particles.length; i++) {
            for (var j = i + 1; j < particles.length; j++) {
                var dx = particles[i].x - particles[j].x;
                var dy = particles[i].y - particles[j].y;
                var dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < config.particles.line_linked.distance) {
                    ctx.strokeStyle = `rgba(255,255,255,${config.particles.line_linked.opacity * (1 - dist / config.particles.line_linked.distance)})`;
                    ctx.lineWidth = config.particles.line_linked.width;
                    ctx.beginPath();
                    ctx.moveTo(particles[i].x, particles[i].y);
                    ctx.lineTo(particles[j].x, particles[j].y);
                    ctx.stroke();
                    ctx.closePath();
                }
            }
        }
    }

    function updateParticles() {
        for (var i = 0; i < particles.length; i++) {
            var p = particles[i];
            p.x += p.vx;
            p.y += p.vy;

            if (p.x < 0 || p.x > canvas.width) p.vx = -p.vx;
            if (p.y < 0 || p.y > canvas.height) p.vy = -p.vy;
        }
    }

    function animate() {
        // Transparent or subtle dark background for About section
        ctx.fillStyle = config.background.color || "#121212";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        updateParticles();
        for (var i = 0; i < particles.length; i++) drawParticle(particles[i]);
        if (config.particles.line_linked.enable) drawLines();

        requestAnimationFrame(animate);
    }

    animate();

    // Resize listener
    window.addEventListener("resize", function () {
        canvas.width = container.offsetWidth;
        canvas.height = container.offsetHeight;
    });
};

// ===== HERO SECTION PARTICLES =====
particlesJS('particles-js-hero', {
    "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#ffffff" },
        "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" } },
        "opacity": { "value": 0.6, "random": false, "anim": { "enable": false } },
        "size": { "value": 3.5, "random": true, "anim": { "enable": false } },
        "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.2, "width": 1 },
        "move": { "enable": true, "speed": 2, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
    },
    "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true } },
    "retina_detect": true
});

// ===== ABOUT SECTION PARTICLES (subtle) =====
particlesJS('particles-js-about', {
    "particles": {
        "number": { "value": 40, "density": { "enable": true, "value_area": 700 } },
        "color": { "value": "#bfbfbf" },
        "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" } },
        "opacity": { "value": 0.3, "random": true, "anim": { "enable": false } },
        "size": { "value": 2.5, "random": true, "anim": { "enable": false } },
        "line_linked": { "enable": true, "distance": 120, "color": "#6b6b6b", "opacity": 0.1, "width": 1 },
        "move": { "enable": true, "speed": 1, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false }
    },
    "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true } },
    "retina_detect": true
});
particlesJS('particles-js-about', {
    "particles": {
        "number": { "value": 40, "density": { "enable": true, "value_area": 700 } },
        "color": { "value": "#bfbfbf" },
        "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" } },
        "opacity": { "value": 0.3, "random": true },
        "size": { "value": 2.5, "random": true },
        "line_linked": { "enable": true, "distance": 120, "color": "#6b6b6b", "opacity": 0.1, "width": 1 },
        "move": { "enable": true, "speed": 1, "direction": "none", "random": true }
    },
    "interactivity": {
        "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" } }
    },
    "retina_detect": true
});